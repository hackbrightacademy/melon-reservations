(this["webpackJsonpmelon-reservations"]=this["webpackJsonpmelon-reservations"]||[]).push([[0],{219:function(e,t,n){},220:function(e,t,n){},238:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(26),i=n.n(c),o=n(129),s=(n(219),n(8)),l=(n(220),n(28)),j=n(347),u=n(348),d=n(333),h=n(246),b=n(93),m=n(87),O=n(166),f=n(330),p=n(177),x=n.n(p),v=n(176),g=n.n(v),w=n(144),k=n(71),y=n(334),S=n(336),C=n(350),N=n(351),T=n(335),D=n(349),I=n(172),B=n(1);function W(e){var t=e.appointments,n=e.username;var a=[{field:"appointmentInfo",headerName:"Appointment Info",width:400},{field:"schedule",headerName:"Make Reservation",width:400,renderCell:function(e){return Object(B.jsx)(b.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return function(e){var t=JSON.stringify({startTime:e,username:n});fetch("/api/reservations/book",{method:"POST",headers:{"Content-Type":"application/json"},body:t}).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.error("Error:",e)}))}(e.value)},children:"Make Reservation"})}}],r=t.map((function(e){return{id:Number(e),appointmentInfo:e.toLocaleString(),schedule:e}}));return Object(B.jsx)("div",{style:{width:"100%"},children:Object(B.jsx)(I.a,{autoHeight:!0,rows:r,columns:a,isRowSelectable:!1})})}function E(e){var t=e.username,n=Object(a.useState)(new Date),r=Object(s.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(new Date),j=Object(s.a)(o,2),u=j[0],d=j[1],h=Object(a.useState)([]),m=Object(s.a)(h,2),f=m[0],p=m[1];var x=Object(O.a)((function(e){return{label:{justifyContent:"left"},submitBtn:{backgroundColor:"#00745d",color:"white","&:hover":{backgroundColor:"#015041",borderColor:"#54ffde",boxShadow:"none"}}}}))(),v=Object(l.f)();return t||v.push("/login"),Object(B.jsx)(y.a,{maxWidth:"lg",children:Object(B.jsxs)(T.b,{dateAdapter:C.a,children:[Object(B.jsxs)(S.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:4,children:[Object(B.jsx)(S.a,{item:!0,className:x.label,htmlFor:"date-picker-dialog",children:"Pick a date for your reservation:"}),Object(B.jsxs)(S.a,{container:!0,direction:"row",spacing:3,justifyContent:"center",children:[Object(B.jsx)(S.a,{item:!0,children:Object(B.jsx)(D.a,{renderInput:function(e){return Object(B.jsx)(N.a,Object(w.a)({},e))},label:"DateTimePicker",value:c,onChange:function(e){return i(e)},minDate:Object(k.a)(new Date)})}),Object(B.jsx)(S.a,{item:!0,children:Object(B.jsx)(D.a,{renderInput:function(e){return Object(B.jsx)(N.a,Object(w.a)({},e))},label:"DateTimePicker",value:u,onChange:function(e){return d(e)},minDate:Object(k.a)(new Date)})})]}),Object(B.jsx)(S.a,{item:!0,children:Object(B.jsx)(b.a,{variant:"contained",className:x.submitBtn,onClick:function(){var e=JSON.stringify({startTime:c,endTime:u});fetch("/api/reservations",{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(e){p(e.map((function(e){return new Date(e)})))})).catch((function(e){console.error("Error:",e)}))},children:"Search for reservations"})})]}),f.length>0&&Object(B.jsx)(W,{appointments:f,username:t})]})})}var P=n(155);function J(e){var t=Object(l.f)(),n=Object(a.useState)(""),r=Object(s.a)(n,2),c=r[0],i=r[1];return Object(B.jsx)(y.a,{component:"main",maxWidth:"xs",children:Object(B.jsxs)("div",{children:[Object(B.jsx)(h.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(B.jsxs)("form",{noValidate:!0,children:[Object(B.jsx)(P.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoFocus:!0,onChange:function(e){return i(e.target.value)},value:c}),Object(B.jsx)(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(n){n.preventDefault(),e.setUsername(c),t.push("/schedule")},children:"Log In"})]})]})})}var M=Object(m.b)({palette:{primary:{main:"#ffa177"},secondary:{main:g.a.A100}}});var R=function(){var e=Object(l.f)(),t=Object(a.useState)(),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(O.a)((function(e){return{appBar:{marginBottom:e.spacing(2)},icon:{marginRight:e.spacing(2)},title:{flexGrow:1}}}))();return r||e.push("/login"),Object(B.jsxs)(f.a,{theme:M,children:[Object(B.jsx)(j.a,{}),Object(B.jsx)(u.a,{position:"static",className:i.appBar,children:Object(B.jsxs)(d.a,{children:[Object(B.jsx)(x.a,{className:i.icon}),Object(B.jsx)(h.a,{variant:"h6",color:"inherit",noWrap:!0,className:i.title,children:"Melon Tasting Scheduler"}),Object(B.jsx)(b.a,{to:"/schedule",component:o.b,color:"inherit",children:"Schedule Tasting"})]})}),Object(B.jsxs)(l.c,{children:[Object(B.jsx)(l.a,{path:"/schedule",children:Object(B.jsx)(E,{username:r})}),Object(B.jsx)(l.a,{path:"/login",children:Object(B.jsx)(J,{setUsername:c})}),Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)(h.a,{variant:"h3",children:["Welcome, ",r,"!"]})})]})]})};i.a.render(Object(B.jsx)(r.a.StrictMode,{children:Object(B.jsx)(o.a,{children:Object(B.jsx)(R,{})})}),document.getElementById("root"))}},[[238,1,2]]]);
//# sourceMappingURL=main.859c0144.chunk.js.map